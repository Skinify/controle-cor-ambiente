<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="styles.css"/>
	<script src="webOSTVjs-1.2.0/webOSTV.js" charset="utf-8"></script>
	<script src="webOSTVjs-1.2.0/webOSTV-dev.js" charset="utf-8"></script>
	<script type="text/javascript">
	   //sample code for calling LS2 API
       var lunaReq= webOS.service.request("luna://com.palm.systemservice",
        {
            method:"clock/getTime",
            parameters:{},
            onSuccess: function (args) {
            },
            onFailure: function (args) {
            }
        });
	</script>
</head>
<body>
	<main>
		<div id="background">
			<div id="interface">
				<button class="primary-button" onclick="toggleOptions()">
					Temas
				</button>
				<button class="primary-button">
					eae
				</button>
			</div>
		</div>
		<div id="options">
			<button id="close-button" class="options-button" onclick="toggleOptions()">X</button>
			<div class="row">
				<button class="direction-control-button options-button"><</button>
				<div class="styles">
					<div class="tema"></div>
					<div class="tema"></div>
					<div class="tema"></div>
					<div class="tema"></div>
				</div>
				<button class="direction-control-button options-button">></button>
			</div>
		</div>
	</main>
	<script>
		const background = document.querySelector("div#background")
		const interface = document.querySelector("div#interface")
		const options = document.querySelector("div#options")
		const optionsHeight = options.offsetHeight;
		const initialGradient = "linear-gradient(50deg, #ec4343, #3131f1)"
		background.style.backgroundImage = initialGradient
		var colors = ["#333", "red"]

		var openedOptions = false;

		function toggleOptions(){
			if(openedOptions){
				options.style.bottom = `-${optionsHeight}px`
				background.style.filter = "brightness(1) blur(0)"
				background.style.pointerEvents = "all";
				openedOptions = false;
			}else{
				options.style.bottom = `0px`;
				background.style.filter = "brightness(0.9) blur(0.2px)"
				background.style.pointerEvents = "none";
				openedOptions = true;
			}
		}

		function stopIdle(){
			interface.style.filter = "opacity(1)";
			idleCount = 0;
			idle = false;
		}

		function startIdle(){
			interface.style.filter = "opacity(0)";
			idle = true;
		}

		var idleCount = 0;
		var idle = false;
		const idleTimer = setInterval(function(){
			if(!idle){
				idleCount++;
				if(idleCount > 5){
					startIdle();
				}
			}
		},1000)

		document.body.addEventListener("mousemove", stopIdle);

	</script>
</body>
</html>
